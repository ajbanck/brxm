<form class="search-form">
  <mat-icon svgIcon="search"></mat-icon>
  <input [(ngModel)]="searchText"
         (keyup)="onSearchInputKeyUp()"
         type="text"
         name="searchText"
         placeholder="Search"
         autocomplete="off"
         class="search-input">
</form>
<perfect-scrollbar [config]="{ suppressScrollX: true }" class="sites-tree-wrapper">
  <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
    <mat-tree-node *matTreeNodeDef="let node"
                   matTreeNodeToggle
                   matRipple
                   (click)="onLeafNodeClicked(node)">
      <li class="caption">
        <mat-icon svgIcon="remove"></mat-icon>
        {{ node.name }}
      </li>
    </mat-tree-node>
    <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
      <li class="node">
        <div matRipple matTreeNodeToggle class="caption">
          <mat-icon [svgIcon]="treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'"></mat-icon>
          {{ node.name }}
        </div>
        <ul [class.invisible]="!treeControl.isExpanded(node)" class="children-container">
          <ng-container matTreeNodeOutlet></ng-container>
        </ul>
      </li>
    </mat-nested-tree-node>
  </mat-tree>
  <div *ngIf="!dataSource.data?.length && searchText" class="not-found-info">There is no sites found.</div>
</perfect-scrollbar>
